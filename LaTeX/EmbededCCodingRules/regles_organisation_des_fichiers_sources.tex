\section{Organisation des fichiers sources}

\begin{center}
\begin{tabular}{|c l|}
\hline
\rowcolor{red!10}\textbf{Règle 3.1} & Toutes les précautions doivent être prises concernant l'inclusion des \textit{headers} afin \\
\rowcolor{red!10} & qu'ils ne soient pas inclus plus d'une fois dans un même objet. \\ \hline
 & Dans la mesure où de nombreux fichiers peuvent faire appel à un même module \\
 & il est important qu'on ne puisse pas faire d'inclusion récursive d'une même \\
 & source. On veillera donc à déclarer des drapeaux empêchant cela comme il suit. \\ \hline
\hline
\end{tabular}
\end{center}

\smallskip
\begin{large}
\textbf{\textsc{Exemple :}}
\end{large}
\lstinputlisting{header_file_inclusion.c}

\medskip

\begin{center}
\begin{tabular}{|c l|}
\hline
\rowcolor{red!10}\textbf{Règle 3.2} & Tout projet doit être organisé en modules logiciels. Un module logiciel est un \\
\rowcolor{red!10} & ensemble composé d'au moins un fichier \textbf{.h} et un fichier \textbf{.c}. \\ \hline
 & S'il ne doit y en avoir qu'un, le fichier \textbf{.h} ou \textit{header}, représente l'interface, \\
 & partie visible du module pour les autres modules du projet. \\
 & Il contient les prototypes des fonctions et les déclarations de variables et \\
 & constantes accessibles aux autres modules. Un fichier d'interface adoptera un \\
 & nom du type {\fontfamily{AnonymousPro}\selectfont my\textunderscore module\textunderscore file-itf.h}. \\
 & Le fichier \textbf{.c} contient l'implémentation. \\ \hline
\hline
\end{tabular}
\end{center}

\medskip

\begin{center}
\begin{tabular}{|c l|}
\hline
\rowcolor{red!10}\textbf{Règle 3.3} & Les noms des fichiers sources doivent être explicites et faire référence à \\
\rowcolor{red!10} & l'élément du programme qu'ils concernent.\\ \hline
 & Des noms de fichiers explicitent permettent de naviguer plus facilement dans \\
 & un projet et évitent d'avoir à fournir un effort de mémorisation des différents \\
 & rôles attribués à des noms de fichiers obscurs.\\ \hline
\hline
\end{tabular}
\end{center}

\smallskip
\begin{large}
\textbf{\textsc{Exemple :}}
\end{large}
Les fichiers sources ayant trait à la gestion des protocoles de communication sur un port série se nomment {\fontfamily{AnonymousPro}\selectfont serial\textunderscore [nom\textunderscore du\textunderscore module].[extension]}, tels que {\fontfamily{AnonymousPro}\selectfont serial\textunderscore interruptions.c} ou {\fontfamily{AnonymousPro}\selectfont serial\textunderscore port\textunderscore names.h}.

\medskip

\begin{center}
\begin{tabular}{|c l|}
\hline
\rowcolor{red!10}\textbf{Règle 3.4} & Le contenu d'un fichier \textbf{.h} ou \textbf{.c} doit être cohérent d'un point de vue fonctionnel.\\
 & Si plusieurs implémentations se chevauchent dans un même fichier, alors \\
 & celui-ci devra être séparé en plusieurs fichier cohérent d'un point de vue \\
 & fonctionnel. Le découpage du code en plusieurs parties permet d'en améliorer \\
 & la lisibilité. \\ \hline
\hline
\end{tabular}
\end{center}

\medskip

\begin{center}
\begin{tabular}{|c l|}
\hline
\rowcolor{red!10}\textbf{Règle 3.5} & Il est fortement souhaité que chaque fichier \textbf{.h} et \textbf{.c} contienne un cartouche descriptif \\
\rowcolor{red!10} & du rôle du module. \\ \hline
 & Au sein de \textsc{ProTo} nous utiliserons le cartouche ci-dessous. \\
 & Les balises \textcolor{purple}{@} permettent d'identifier les balises qui génère la documentation \\
 & avec un programme tel que \textit{Doxygen}. \\ \hline
\hline
\end{tabular}
\end{center}

\smallskip
\lstinputlisting{generic_file_header.c}

\smallskip
\begin{large}
\textbf{\textsc{Remarque :}}
\end{large}
Il n'est pas nécessaire d'indiquer une valeur à la balise \textcolor{purple}{@file}.

\medskip

\begin{center}
\begin{tabular}{|c l|}
\hline
\rowcolor{red!10}\textbf{Règle 3.6} & Les fonctions doivent posséder en en-tête un cartouche descriptif de leur rôle, leurs \\
\rowcolor{red!10} & paramètres d'entrées-sorties et de retour ainsi qu'un bref descriptif de leur \\
\rowcolor{red!10} & fonctionnement. \\ \hline
 & Cela permet une compréhension plus simple du code par l'ensemble des développeurs. \\
 & Au sein de \textsc{ProTo} nous utiliserons un cartouche similaire à celui présenté en exemple \\
 & ci-dessous. \\
 & On le placera dans le fichier \textbf{.c}. \\
 & On ajoutera les champs {\fontfamily{AnonymousPro}\selectfont [in]} et {\fontfamily{AnonymousPro}\selectfont [out]} dans le descriptif des paramètre afin de \\
 & préciser si les valeurs passées sont des valeurs d'entrée ou de sortie de \\
 & la fonction. \\
 & Les balises \textcolor{purple}{@} permettent d'identifier les balises qui génèrent la documentation avec un \\
 & programme tel que \textit{Doxygen}. \\ \hline
\hline
\end{tabular}
\end{center}

\smallskip
\begin{large}
\textbf{\textsc{Exemple :}}
\end{large}
Le cartouche est similaire à ce qui suit
\lstinputlisting{function_description_header.c}

\pagebreak